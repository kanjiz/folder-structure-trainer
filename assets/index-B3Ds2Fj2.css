*{margin:0;padding:0;box-sizing:border-box}body{font-family:BIZ UDPGothic,sans-serif;font-size:24px;background:#f5f5f5;color:#333}#app{max-width:1024px;margin:0 auto;padding:16px}.select-view h1{font-size:1.5rem;margin-bottom:8px}.select-view p{color:#666;margin-bottom:16px}.question-list{list-style:none;display:flex;flex-direction:column;gap:8px}.question-list__item{width:100%}.question-card{width:100%;display:flex;align-items:center;gap:12px;padding:12px 16px;background:#fff;border:1px solid #ddd;border-radius:8px;cursor:pointer;font-size:1rem;text-align:left;transition:background .15s}.question-card:hover{background:#e8f0fe}.mode-badge{display:inline-block;padding:2px 8px;border-radius:4px;font-size:.75rem;font-weight:700;color:#fff}.mode-practice{background:#4caf50}.mode-exercise{background:#2196f3}.question-title{font-weight:500}.game-view{display:flex;flex-direction:column;height:calc(100vh - 32px)}.instruction-area{background:#fff;padding:12px 16px;border-radius:8px;margin-bottom:8px;border:1px solid #ddd}.instruction-area h2{font-size:1.2rem;margin-bottom:8px}.instructions{list-style:none;display:flex;flex-direction:column;gap:4px}.instructions li{line-height:1.6}.instructions li{padding-left:1em;text-indent:-1em}.instructions li:before{content:"▶︎";color:#2196f3}.main-area{display:grid;grid-template-columns:260px 1fr;grid-template-rows:auto 1fr;gap:8px;flex:1;min-height:0}.breadcrumb-panel{grid-column:1 / -1;background:#fff;border:1px solid #ddd;border-radius:8px;padding:0;overflow:hidden}.tree-panel{grid-column:1;grid-row:2;background:#fff;border:1px solid #ddd;border-radius:8px;padding:12px;overflow-y:auto}.icon-panel{grid-column:2;grid-row:2;background:#fff;border:1px solid #ddd;border-radius:8px;overflow:hidden;position:relative}.icon-panel canvas{display:block}.icon-nav-btn{position:absolute;top:6px;left:8px;padding:4px 12px;font-size:.85rem;background:#e0e0e0;border:1px solid #ccc;border-radius:4px;cursor:pointer;z-index:10}.icon-nav-btn:hover{background:#d0d0d0}.action-area{display:flex;gap:8px;justify-content:center;padding:12px 0}.tree-list{list-style:none;padding-left:16px}.tree-panel>.tree-list{padding-left:0}.tree-item{padding:2px 0;font-size:.9rem;cursor:pointer;border-radius:4px;transition:background-color .2s ease}.tree-item.drop-target{background-color:#0078d74d;border:2px solid rgba(0,120,215,.8)}.result-view{text-align:center}.result-view h2{font-size:1.5rem;margin-bottom:16px}.score{font-size:2rem;font-weight:700;margin-bottom:24px}.result-items{display:flex;flex-direction:column;gap:8px;max-width:400px;margin:0 auto 24px}.result-item{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:6px;font-size:1rem}.result-correct{background:#e8f5e9;color:#2e7d32}.result-incorrect{background:#ffebee;color:#c62828}.result-actions{display:flex;gap:8px;justify-content:center}.btn-primary,.btn-secondary{padding:10px 24px;border:none;border-radius:6px;font-size:1rem;cursor:pointer;transition:opacity .15s}.btn-primary{background:#2196f3;color:#fff}.btn-secondary{background:#e0e0e0;color:#333}.btn-primary:hover,.btn-secondary:hover{opacity:.85}.breadcrumb-view{padding:12px 20px;background-color:#f0f0f0;border-bottom:1px solid #ccc;font-family:BIZ UDPGothic,sans-serif;font-size:14px;display:flex;align-items:center}.breadcrumb-item{cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .2s ease}.breadcrumb-item:hover{background-color:#0078d71a}.breadcrumb-item.drop-target{background-color:#0078d780;border:2px solid rgba(0,120,215,.8)}.breadcrumb-separator{color:#666;margin:0 4px}.icon-view-dom{display:grid;grid-template-columns:repeat(auto-fill,120px);grid-auto-rows:max-content;justify-items:start;align-items:start;row-gap:8px;column-gap:16px;padding:20px;background-color:#fff;flex:1;overflow-y:auto}.icon-item{display:flex;flex-direction:column;align-items:center;padding:12px;border-radius:4px;cursor:pointer;transition:transform .2s ease,background-color .2s ease;outline:none}.icon-item:hover{background-color:#0000000d;transform:scale(1.05)}.icon-item.selected{background-color:#0078d74d}.icon-item:focus{box-shadow:0 0 0 2px #0078d780}.icon-item.drop-target{background-color:#0078d780;border:2px solid rgba(0,120,215,.8)}.icon-symbol{font-size:48px;margin-bottom:8px}.icon-name{font-family:BIZ UDPGothic,sans-serif;font-size:14px;text-align:center;word-break:break-word;max-width:100px}.drag-preview{position:relative;width:200px;height:80px;pointer-events:none}.drag-preview-item{position:absolute;display:flex;align-items:center;gap:8px;padding:8px 12px;background-color:#ffffffe6;border:1px solid rgba(0,120,215,.5);border-radius:4px;box-shadow:0 2px 8px #0003;opacity:.8;white-space:nowrap;max-width:180px}.drag-preview-icon{font-size:20px}.drag-preview-name{font-family:BIZ UDPGothic,sans-serif;font-size:14px;overflow:hidden;text-overflow:ellipsis}.drag-preview-badge{position:absolute;bottom:4px;right:4px;background-color:#0078d7e6;color:#fff;font-family:BIZ UDPGothic,sans-serif;font-size:12px;font-weight:700;padding:2px 8px;border-radius:12px;box-shadow:0 2px 4px #0000004d}.context-menu{position:fixed;background-color:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 8px #00000026;padding:4px 0;min-width:150px;z-index:1000;font-family:BIZ UDPGothic,sans-serif;font-size:14px}.context-menu-item{padding:8px 16px;cursor:pointer;transition:background-color .15s ease}.context-menu-item:hover:not(.disabled){background-color:#0078d71a}.context-menu-item.disabled{color:#999;cursor:not-allowed}
