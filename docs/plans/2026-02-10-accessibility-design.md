# アクセシビリティ改善デザイン

## 目的

弱視ユーザー向けにフォルダ構造トレーナーのアクセシビリティを改善する。

## ターゲットユーザー

- 弱視ユーザー（全盲ではない）
- フォルダの概念は理解している
- 主な課題：テキストの視認性

## アプローチ

ブラウザの標準ズーム機能に依存し、良いデフォルト設定を提供する。

### なぜこのアプローチか

**ブラウザズームの利点:**

- 実装不要で即座に利用可能
- ユーザーにとって馴染みのある操作（Cmd/Ctrl + +/-）
- すべての要素が自動的にスケール
- テキスト、アイコン、レイアウトすべてが一貫して拡大
- 他のウェブサイトと同じ操作感

**カスタムコントロールとの比較:**

- カスタムコントロール：実装コスト高、ブラウザズームと競合の可能性
- ブラウザズーム：発見性は低いが、説明で補える

## 技術仕様

### 1. フォント変更

**現在:** システムデフォルトフォント
**変更後:** BIZ UDPゴシック（ビズユーディーゴシック）

```css
body {
  font-family: 'BIZ UDPGothic', sans-serif;
}
```

**理由:**

- ユニバーサルデザインフォント
- 文字の判別性が高い
- 濁点・半濁点が明瞭
- 数字とアルファベットの区別が容易

### 2. 基本テキストサイズ

**現在:** 16px（推定）
**変更後:** 24px

```css
body {
  font-size: 24px;
}
```

**影響範囲:**

- 問題タイトル（h2）
- 指示リスト（ul.instructions）
- ボタンテキスト
- ツリービューのラベル
- アイコンビューのラベル

### 3. アイコンビュー調整

**p5.jsキャンバス内のテキストサイズも調整:**

```typescript
// IconView.ts
p.textSize(16)  // 現在11px → 16pxに拡大
```

**ラベルの切り詰め閾値も調整:**

```typescript
// 現在10文字 → 8文字に短縮（大きいフォントに対応）
const label = node.name.length > 8 ? node.name.substring(0, 7) + '…' : node.name
```

### 4. ブラウザズーム互換性

**レイアウトの確認:**

- FlexboxとGrid使用 → ブラウザズームと互換性良好
- 固定幅の使用を最小限に
- `max-width` と `overflow` の適切な設定

**検証:**

- ブラウザズーム 100%〜200% で動作確認
- レイアウト崩れがないことを確認

### 5. オプション：使用方法の説明

**README.md または アプリ内ヘルプに追記:**

```markdown
## アクセシビリティ

このアプリは弱視ユーザー向けに最適化されています。

- **フォント:** BIZ UDPゴシック（ユニバーサルデザイン）
- **基本サイズ:** 24px

**さらに拡大したい場合:**
- Windows/Linux: `Ctrl` + `+`
- macOS: `Cmd` + `+`
- 縮小: `Ctrl/Cmd` + `-`
- リセット: `Ctrl/Cmd` + `0`
```

## 実装の優先順位

### Phase 1: 必須変更

1. BIZ UDPゴシックフォントの読み込み
2. 基本テキストサイズを24pxに変更
3. IconView内のテキストサイズ調整

### Phase 2: 推奨変更

1. ラベル切り詰め閾値の調整
2. ブラウザズーム検証（100%〜200%）

### Phase 3: オプション

1. README.mdへの使用方法追記

## テスト計画

### 手動テスト

1. ブラウザズーム 100% でレイアウト確認
2. ブラウザズーム 150% でレイアウト確認
3. ブラウザズーム 200% でレイアウト確認
4. 長いファイル名でのラベル表示確認
5. 全画面要素のフォント適用確認

### 自動テスト

- 既存のVitestテストがすべてパスすることを確認
- 新規テスト不要（UIのみの変更）

## 成功基準

- [ ] BIZ UDPゴシックがすべてのテキストに適用されている
- [ ] 基本テキストサイズが24pxになっている
- [ ] アイコンビューのラベルが読みやすいサイズになっている
- [ ] ブラウザズーム 100%〜200% でレイアウトが崩れない
- [ ] 既存の全テストがパスする

## 非目標（この段階では実装しない）

- カスタム文字サイズコントロール
- カラーテーマの変更
- ハイコントラストモード
- スクリーンリーダー対応（フォルダ概念を理解しているユーザー向けなので優先度低）
